---
title: '循环转递归'
date: '2025-3-17'
tags:
  - 算法
---

最近在网上冲浪时，看到了一个有趣的算法题，题目如下：

> 实现求和函数
>
> 不能使用循环和其他数组方法

其实是一个很简单的算法

不能使用  loop 循环，那我们只能使用递归了。
递归的思路是：将数组中的每个元素都递归一遍，然后将递归的结果相加。

如果对递归算法模糊的话，其实有一个万能的解法，你只需要用循环，那你就可以转为递归。

这是一段循环的简单伪代码：

```ts
前置代码
function loop() {
    for (初始代码; 条件; 更新代码) {
        循环体
    }
}
后置代码
```

如果转为递归的话，我们可以这样写：
- 前置代码不管
- 初始代码只运行一遍，放到前置代码后
- 将条件和循环体写成一个函数
- 判断条件取反
- 条件为真，就执行后置代码
- 最后调用这个函数

```ts
前置代码
初始代码
function recursion() {
    if (!条件) {
        return;
    }
    循环体
    后置代码
    recursion();
}
```

这是一个简单的例子，你可以将它应用到你的算法中。

回到算法，通过这个格式，我们就可以改写：

使用循环方式：

```ts
function sum(arr) {
    let s = 0;
    for (let i = 0; i < arr.length; i++) {
        s += arr[i];
    }
    return s;
}
```

套用上面的递归格式：

```ts
function sum(arr) {
    let s = 0;
    let i = 0;
    function recursion() {
        if (i >= arr.length) { // 取反 '<' --> '>'
            return;
        }
        s += arr[i];
        i++;
        recursion();
    }
}
```

不过代码写的很难看，但你就说对不对吧？

觉得很有意思，就分享出来了。